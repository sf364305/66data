<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>分组管理</title>
        <meta name="keywords" content="主播数据管理中心">
        <meta name="description" content="主播数据管理中心">
        <link rel="stylesheet" type="text/css" href="../css/style.css" />
        <link rel="stylesheet" type="text/css" href="../bootstrap-3.3.7-dist/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="../css/reset.css" />
        <script type="text/javascript" src="../js/jquery-1.11.3.min.js"></script>
        <script type="text/javascript" src="../bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    </head>
    <body>
        <header class="index-header clearfix">
            <a href="" title="" class="logo"><img src="../images/logo.png" alt="" /></a>
            <div class="login">退出</div>
            <div class="person-name">迷恋哥的传说</div>
            <div class="guild-name">超强公会</div>
        </header>
        <div class="index-left">
            <ul class="nav-left">
                <li>
                    <a href="javascript:;" class="nav-for nav-slide" title="业绩报表">业绩报表</a>
                    <ul class="nav-inner">
                        <li><a href="../index.html" title="概况">概况</a></li>
                        <li><a href="live.html" title="按主播">按主播</a></li>
                        <li><a href="grouping.html" title="按分组">按分组</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:;" class="nav-tool nav-slide" title="工具箱">工具箱</a>
                    <ul class="nav-inner">
                        <li><a href="gift.html" title="刷礼物纪录">刷礼纪录</a></li>
                        <li><a href="month.html" title="月度目标">月度目标</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:;" class="nav-guild nav-slide" title="公会设置">公会设置</a>
                    <ul class="nav-inner">
                        <li><a href="bacsic.html" title="基本设置">基本设置</a></li>
                        <li><a href="" class="nav-show" title="分组管理">分组管理</a></li>
                        <li><a href="add_live.html" title="按主播">按主播</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:;" class="nav-wage nav-slide" title="工资结算">工资结算</a>
                    <ul class="nav-inner">
                        <li><a href="proportion_set.html" title="设置比例">设置比例</a></li>
                        <li><a href="wage_set.html" title="结算工资">结算工资</a></li>
                        <li><a href="" title="结算设置">结算设置</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="manage-wrap">
            <div class="live-head clearfix">
                <div class="live-grouping live-ho">
                    <span class="live-gr" style="background: none;">分组管理</span>
                </div>
            </div>
            <div class="manage-con">
                <div class="manage-t">
                    <table class="manage-table">
                        <thead>
                            <tr>
                                <th style="width: 100px;">名称</th>
                                <th style="width: 100px;">主播数</th>
                                <th style="width: 200px;">成员（还没成员？）<a href="" class="cl-take">点击邀请</a></th>
                                <th style="width: 100px;"></th>
                            </tr>
                        </thead>
                        <tbody class="manage-tbody" id="myDiv">
                            <tr>
                                <td class="man-name">
                                    <input type="text" value=""/>
                                    <em>游戏</em>
                                </td>
                                <td>4</td>
                                <td></td>
                                <td>
                                    <span class="manage-com">修改</span>
                                    <span class="manage-del">删除</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="man-name">
                                    <input type="text" value=""/>
                                    <em>音乐</em>
                                </td>
                                <td>4</td>
                                <td></td>
                                <td>
                                    <span class="manage-com">修改</span>
                                    <span class="manage-del">删除</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="add-manage">
                    <div class="add-manage-group">+新增分组</div>
                </div>
                <div class="add-manage-cont clearfix">
                    <input type="text" placeholder="新增分组名称" class="add-input"/>
                    <span class="add-cont-save">保存</span>
                    <span class="add-cont-cancle">取消</span>
                </div>       
            </div>
        </div>
    </body>
    <script type="text/javascript" src="../js/style.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            // 新增分组
            $(".add-manage-group").click(function() {
                $(".add-manage-cont").css("display","block");
            })
            // 取消
            $(".add-cont-cancle").click(function() {
                $(".add-manage-cont").css("display","none");
            })
            // 保存
            $(".add-cont-save").click(function() {
                var inT = $(".add-input").val();
                $(".manage-tbody").append('<tr>'+'<td class="man-name">'+'<input type="text" value=""/>'+'<em>'+inT+'<em>'+'</td>'+'<td>'+0+'</td>'+'<td>'+'</td>'+'<td>'+'<span class="manage-com">'+'修改'+'</span>'+'<span class="manage-del">'+'删除'+'</span>'+'</td>'+'</tr>');
            })
            // 删除
            document.getElementById("myDiv").addEventListener("click",function(e) {
                // e.target是被点击的元素
                if(e.target && e.target.nodeName == "SPAN") {
                    // 获得CSS类名
                    var classes = e.target.className;
                    // 搜索匹配!
                    if(classes == "manage-del") {
                        $(e.target).parent().parent().remove();
                    }
                    if(classes == "manage-com") {
                        if($(e.target).html() == "修改") {                          
                            $(e.target).html("保存");
                            var eT = $(e.target).parent().siblings(".man-name").find("em").text();
                            $(e.target).parent().siblings(".man-name").find("input").val(eT);
                            $(e.target).parent().siblings(".man-name").find("input").css("display","block").siblings('em').css("display","none");
                        } else {
                            $(e.target).html("修改");
                            var iT = $(e.target).parent().siblings(".man-name").find("input").val();
                            $(e.target).parent().siblings(".man-name").find("em").html(iT);
                            $(e.target).parent().siblings(".man-name").find("input").css("display","none").siblings('em').css("display","block");
                        }
                    }

                }
            });
        })
    </script>
</html>